###############################################################################################################
#
# Template for both Engilsh and Welsh profiles.
#
# @@TODO's
#
# * rationalise dump file name
# * check source file referencing
#
###############################################################################################################

type : Composite
name : bw-profile
required :
  - samplingPoint
  - profile_year
  - county

bind :
  - "$source_base"        : "http://environment.data.gov.uk/sources/bwq"
    "$data_base"          : "http://environment.data.gov.uk/data/bathing-water-profile"
    "$body_slug"          : "eaew"
    "$version"            : "1"

sources :
###############################################################################
# Source for testing only, replce in live service
###############################################################################
  - "name"       : "sp-to-bw"
    "sourceType" : "RDF"
    "source"     : "data/output/bw-site-sample.ttl"
    "key"        : "<skos:notation>"
    "value"      : "<def-bw:bathingWater>"
    "type"       : "<def-sp:SamplingPoint>"
    "makeURI"    : true

#oneOffs :
#  - "name"              : "bw-profile-dastaset" 

#templates :  [ "bw-profile-common", "bw-profile-eng", "bw-profile-wales" ] 
templates : 
  - bw-profile-common

referenced :
###############################################################################
# Core temlate common to both england and wales
###############################################################################
  -  name : bw-profile-common
     "@id" : "<{$data_base}/{profile_year}/:{$version}>"
     "<rdf:type>" : "<skos:Concept>"
